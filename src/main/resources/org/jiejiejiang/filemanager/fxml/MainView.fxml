<?xml version="1.0" encoding="UTF-8"?>

<!-- æ ¹å¸ƒå±€ï¼šBorderPaneï¼ˆä¸Šä¸‹å·¦å³ä¸­äº”åŒºåŸŸå¸ƒå±€ï¼Œé€‚åˆæ¡Œé¢åº”ç”¨ï¼‰ -->
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.control.MenuBar?>
<?import javafx.scene.control.Menu?>
<?import javafx.scene.control.MenuItem?>
<?import javafx.scene.control.TreeView?>
<?import javafx.scene.control.TreeItem?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.geometry.Insets?>

<?import javafx.scene.control.SeparatorMenuItem?>
<BorderPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.jiejiejiang.filemanager.gui.controller.MainController"
            stylesheets="@../css/MainViewCss.css">
    <!-- 1. é¡¶éƒ¨ï¼šèœå•æ ï¼ˆæ–‡ä»¶æ“ä½œã€ç¼–è¾‘ã€è§†å›¾ç­‰ï¼‰ -->
    <top>
        <MenuBar>
            <!-- æ–‡ä»¶èœå•ï¼ˆæ–°å»ºã€æ‰“å¼€ï¼‰ -->
            <Menu text="æ–‡ä»¶">
                <MenuItem text="æ–°å»ºæ–‡ä»¶" fx:id="newFileItem"/>
                <MenuItem text="æ–°å»ºæ–‡ä»¶å¤¹" fx:id="newDirItem"/>
                <SeparatorMenuItem/>
                <MenuItem text="æ‰“å¼€" fx:id="openItem"/>
            </Menu>

            <!-- ç¼–è¾‘èœå•ï¼ˆåˆ é™¤ï¼‰ -->
            <Menu text="ç¼–è¾‘">
                <MenuItem text="åˆ é™¤" fx:id="deleteItem"/>
            </Menu>

            <!-- è§†å›¾èœå•ï¼ˆåˆ‡æ¢æ˜¾ç¤ºæ¨¡å¼ã€åˆ·æ–°ï¼‰ -->
            <Menu text="è§†å›¾">
                <MenuItem text="åˆ—è¡¨æ¨¡å¼" fx:id="listViewItem"/>
                <MenuItem text="å›¾æ ‡æ¨¡å¼" fx:id="iconViewItem"/>
                <SeparatorMenuItem/>
                <MenuItem text="åˆ·æ–°" fx:id="refreshItem"/>
            </Menu>


        </MenuBar>
    </top>

    <!-- 2. å·¦ä¾§ï¼šä¾§è¾¹æ ï¼ˆç›®å½•æ ‘ + å¿«é€Ÿè®¿é—®ï¼‰ -->
    <left>
        <VBox spacing="10" prefWidth="250" styleClass="sidebar">
            <!-- å¿«é€Ÿè®¿é—®åŒºåŸŸ -->
            <Label text="å¿«é€Ÿè®¿é—®" styleClass="sidebar-title"/>
            <VBox spacing="5">
                <Label text="ðŸ“‚ æˆ‘çš„æ–‡æ¡£" fx:id="myDocsLabel" styleClass="quick-access-item"/>
                <Label text="ðŸ“„ æœ€è¿‘æ–‡ä»¶" fx:id="recentFilesLabel" styleClass="quick-access-item"/>
                <Label text="ðŸ—‘ï¸ å›žæ”¶ç«™" fx:id="recycleBinLabel" styleClass="quick-access-item"/>
            </VBox>

            <Separator/>

            <!-- ç›®å½•æ ‘åŒºåŸŸï¼ˆæ˜¾ç¤ºç£ç›˜ç›®å½•ç»“æž„ï¼‰ -->
            <Label text="ç£ç›˜ç›®å½•" styleClass="sidebar-title"/>
            <TreeView fx:id="dirTreeView" VBox.vgrow="ALWAYS" styleClass="tree-view">
                <!-- æ ¹èŠ‚ç‚¹ï¼šé»˜è®¤æ˜¾ç¤ºæ‰€æœ‰ç£ç›˜ï¼ˆåŽç»­ç”±ControlleråŠ¨æ€åŠ è½½ï¼‰ -->
                <TreeItem value="æ­¤ç”µè„‘" fx:id="computerRootItem">
                    <!-- å­èŠ‚ç‚¹ç¤ºä¾‹ï¼ˆå®žé™…ç”±ControlleråŠ¨æ€ç”Ÿæˆï¼‰ -->

                </TreeItem>
            </TreeView>
        </VBox>
    </left>

    <!-- 3. ä¸­é—´ï¼šä¸»å†…å®¹åŒºï¼ˆæ–‡ä»¶åˆ—è¡¨ï¼Œé»˜è®¤è¡¨æ ¼æ¨¡å¼ï¼‰ -->
    <center>
        <VBox>
            <!-- 3.1 å¯¼èˆªæ ï¼ˆè¿”å›žæŒ‰é’® + è·¯å¾„è¾“å…¥æ¡† + è§†å›¾åˆ‡æ¢æŒ‰é’®ï¼‰ -->
            <HBox spacing="10" styleClass="navigation-bar">
                <Button fx:id="backButton" text="â† è¿”å›ž" styleClass="navigation-button"/>
                <TextField fx:id="pathTextField" HBox.hgrow="ALWAYS" promptText="å½“å‰è·¯å¾„" editable="true" styleClass="path-field"/>
                <!-- è§†å›¾åˆ‡æ¢æŒ‰é’® -->
                <Button fx:id="toggleViewButton" text="åˆ‡æ¢è§†å›¾" styleClass="navigation-button"/>
            </HBox>
            
            <!-- è§†å›¾å®¹å™¨ï¼šä½¿ç”¨StackPaneåœ¨åŒä¸€åŒºåŸŸå†…åˆ‡æ¢åˆ—è¡¨è§†å›¾å’Œå›¾æ ‡è§†å›¾ -->
            <StackPane VBox.vgrow="ALWAYS">
                <!-- åˆ—è¡¨è§†å›¾ï¼šè¡¨æ ¼æ¨¡å¼ -->
                <TableView fx:id="fileTableView" styleClass="table-view">
                    <!-- è¡¨æ ¼åˆ—ï¼šåç§°ã€ç±»åž‹ã€å¤§å°ã€ä¿®æ”¹æ—¶é—´ -->
                    <columns>
                        <TableColumn text="åç§°" prefWidth="200" fx:id="nameColumn">
                            <!-- åŽç»­é€šè¿‡Controllerç»‘å®šFileEntryçš„nameå±žæ€§ -->
                        </TableColumn>
                        <TableColumn text="ç±»åž‹" prefWidth="100" fx:id="typeColumn">
                            <!-- ç»‘å®šFileEntryçš„typeå±žæ€§ï¼ˆFILE/DIRECTORYï¼‰ -->
                        </TableColumn>
                        <TableColumn text="å¤§å°(KB)" prefWidth="100" fx:id="sizeColumn">
                            <!-- ç»‘å®šFileEntryçš„sizeå±žæ€§ï¼ˆéœ€è®¡ç®—è½¬æ¢ï¼‰ -->
                        </TableColumn>
                        <TableColumn text="ä¿®æ”¹æ—¶é—´" prefWidth="180" fx:id="modifyTimeColumn">
                            <!-- ç»‘å®šFileEntryçš„modifyTimeå±žæ€§ -->
                        </TableColumn>
                    </columns>
                </TableView>
                
                <!-- å›¾æ ‡è§†å›¾ï¼šç½‘æ ¼æ¨¡å¼ -->
                <ScrollPane fx:id="iconViewScrollPane" styleClass="icon-view-container" visible="false">
                    <FlowPane fx:id="iconViewPane" hgap="10" vgap="10" style="-fx-padding: 10;">
                        <!-- å›¾æ ‡é¡¹å°†ç”±ControlleråŠ¨æ€æ·»åŠ  -->
                    </FlowPane>
                </ScrollPane>
            </StackPane>
        </VBox>
    </center>

    <!-- 4. åº•éƒ¨ï¼šçŠ¶æ€æ  -->
    <bottom>
        <HBox spacing="20" styleClass="status-bar">
            <Label text="å½“å‰è·¯å¾„ï¼š" fx:id="currentPathLabel" styleClass="status-label"/>
            <Label text="æ–‡ä»¶æ•°é‡ï¼š0" fx:id="fileCountLabel" styleClass="status-label"/>
        </HBox>
    </bottom>

    <!-- 5. å³ä¾§ï¼šFATè¡¨ç›‘è§†å™¨ -->
    <right>
        <VBox prefWidth="300" styleClass="fat-monitor">
            <Label text="FATè¡¨ç›‘è§†å™¨" styleClass="fat-monitor"/>
            <HBox spacing="10" styleClass="fat-stats">
                <Label text="ç©ºé—²ï¼š" fx:id="fatFreeCountLabel" styleClass="fat-stats"/>
                <Label text="å·²ç”¨ï¼š" fx:id="fatUsedCountLabel" styleClass="fat-stats"/>
                <Label text="åå—ï¼š" fx:id="fatBadCountLabel" styleClass="fat-stats"/>
            </HBox>
            <!-- FATè¡¨è¯¦ç»†ä¿¡æ¯ -->
            <TableView fx:id="fatTableView" styleClass="table-view">
                <columns>
                    <TableColumn text="å—å·" prefWidth="70" fx:id="fatBlockIdColumn"/>
                    <TableColumn text="FATå€¼" prefWidth="90" fx:id="fatValueColumn"/>
                    <TableColumn text="çŠ¶æ€" prefWidth="140" fx:id="fatStatusColumn"/>
                </columns>
            </TableView>
        </VBox>
    </right>

</BorderPane>